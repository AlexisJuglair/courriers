{% extends 'base.html.twig' %}

{% block title %}{{ action }} un courrier - {{ parent() }}{% endblock %}

{% block body %}
    <div class="container text-center">
        <h1 class="py-5 mb-0">{{ action|upper }} UN COURRIER</h1>

        {{ form_start(form) }}
            <div class="row my-3 mx-5">
                <div class="col">
                    {{ form_label(form.objet) }} <span class="text-danger">*</span>
                    {{ form_widget(form.objet) }}
                </div>   
                <div class="col">
                    {{ form_label(form.destinataire) }} <span class="text-danger">* <button class="btn btn-info btn-sm"  data-bs-toggle="modal" data-bs-target="#formDestinataire">+</button></span>

                    <div class="modal fade" id="formDestinataire" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">AJOUTER UN DESTINATAIRE</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                ...
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Femer</button>
                                <button type="button" class="btn btn-primary">Enregistrer</button>
                            </div>
                            </div>
                        </div>
                    </div>

                    {{ form_widget(form.destinataire) }}
                </div>
            </div>

            <div class="row my-3 mx-5">
                <div class="col">
                    {{ form_row(form.dateEnvoi) }}
                </div> 
                <div class="col"> 
                    {{ form_row(form.dateRelance) }}
                </div> 
                <div class="col"> 
                    {{ form_label(form.statut) }} <span class="text-danger">*</span>
                    {{ form_widget(form.statut) }}
                </div>
            </div>

            <div class="row my-3 mx-5">
                <div class="col">
                    {{ form_row(form.offreReference) }}
                </div> 
                <div class="col"> 
                    {{ form_row(form.nosReferences) }}
                </div>
                <div class="col"> 
                    {{ form_row(form.vosReferences) }}
                </div> 
            </div>

            <div class="accordion my-3 mx-5" id="accordionPanelsStayOpenExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                        Paragraphe "JE" <span class="text-danger">*</span>
                    </button>
                    </h2>
                    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
                        <div class="accordion-body">
                            {{ form_row(form.paragraphe1) }}
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                        Paragraphe "VOUS" <span class="text-danger">*</span>
                    </button>
                    </h2>
                    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
                        <div class="accordion-body">
                            {{ form_row(form.paragraphe2) }}
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
                        Paragraphe "NOUS" <span class="text-danger">*</span>
                    </button>
                    </h2>
                    <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingThree">
                        <div class="accordion-body">
                        {{ form_row(form.paragraphe3) }}
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingFour">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFour" aria-expanded="false" aria-controls="panelsStayOpen-collapseFour">
                        Formule de politesse <span class="text-danger">*</span>
                    </button>
                    </h2>
                    <div id="panelsStayOpen-collapseFour" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFour">
                        <div class="accordion-body">
                            {{ form_row(form.paragraphe4) }}
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingFive">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFive" aria-expanded="false" aria-controls="panelsStayOpen-collapseFive">
                        Copie de l'annonce
                    </button>
                    </h2>
                    <div id="panelsStayOpen-collapseFive" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFive">
                        <div class="accordion-body">
                            {{ form_row(form.annonceCopie) }}
                        </div>
                    </div>
                </div>
            </div>

            <div class="row my-3 mx-5">
                <div class="col d-flex justify-content-end align-items-center">
                    <p class="text-danger mt-3">Les champs marqu√©s d'une * sont obligatoires.</p>
                </div>
            </div>

            <div class="row my-3 mx-5">
                <div class="col d-flex justify-content-end gap-2">
                    <button type="reset" class="btn btn-secondary">Reset</button>
                    <a class="btn btn-secondary" href="{{ path('home_index') }}">Retour</a>
                    <button type="submit" class="btn btn-primary">Enregistrer</button>
                    {{ form_end(form) }}
                    {% if action == "Modifier" %}
                        {{ include('home/_delete_form.html.twig') }}
                    {% endif %}
                </div>
            </div>
        
    </div>
{% endblock %}
